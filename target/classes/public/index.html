<!DOCTYPE html>
<html ng-app="pithyurl_main">
<head>
	<title>Pithy URL</title>
	<link rel="icon" 
	      type="image/png" 
	      href="./images/linkicon.png">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="./libs/bootstrap-3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" href="./css/main.css">
	<link rel="stylesheet" href="./css/mapael.css">
</head>
<body ng-controller="CreateCtrl">
	<div class="header">
		<div class="navbar navbar-default" role="navigation">
			<div class="container">
			<div class="row">
				<div class="navbar-header col-md-2">
					<a class="navbar-brand" href="" ng-click="toMain()"> <img
						alt="Logo" src="./images/logoFigoPithy223.png" style="width: 40%" >
					</a>
				</div>
				<div class="collapse navbar-collapse col-md-2 col-md-offset-2" id="js-navbar-collapse">
					<ul class ="nav navbar-nav">
						<li><a href="" ng-click="toStats()"><span
								class="glyphicon glyphicon-stats"></span> URL Stats</a></li>
					</ul>
				</div>
			</div>
			</div>
		</div>
	</div>

	<div class="container">
	
		<div ng-show="mainView">
			<!-- Nav tabs -->
			<div class="row">
				<div class="col-md-8 col-md-offset-2">
					<ul class="nav nav-pills nav-justified">
						<li class="active"><a data-toggle="pill" href="#standard"
							ng-click="resetMsgs()">Standard PithyURL</a></li>
						<li><a data-toggle="pill" href="#custom"
							ng-click="resetMsgs()">Custom PithyURL</a></li>
					</ul>
				</div>
			</div>

			<!-- Tab panes -->
			<div class="row">
				<div class="col-md-8 col-md-offset-2">
					<div class="tab-content">

						<div class="tab-pane active" id="standard" align="center">
							<form class="form-horizontal" role="form"
								ng-submit="createLsUrl()">

								<div class="input-group input-group-lg">
									<textarea id="te1" class="form-control" cols="30" rows="10"
										placeholder="Insert here your long URL." ng-model="lsurl.long"></textarea>
								</div>

								<button type="submit" class="btn btn-success btn-lg">
									<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
									Make PithyURL!
								</button>

							</form>
						</div>

						<div class="tab-pane" id="custom" align="center" ng-cloak>
							<form class="form-horizontal" role="form"
								ng-submit="createLsUrlCustom()">
								<div class="input-group input-group-lg">
									<textarea id="te2" class="form-control" cols="30" rows="10"
										placeholder="Insert here your long URL." ng-model="lsurl.long"></textarea>
								</div>
								<div class="input-group center">
									<span class="input-group-addon">{{"http://"+hostname}}</span> <input
										id="in1" type="text" class="form-control"
										placeholder="your custom text" ng-model="lsurl.short">
								</div>

								<button type="submit" class="btn btn-success btn-lg">
									<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
									Make a custom PithyURL!
								</button>
							</form>
						</div>
					</div>
					
					<div ng-show="response">
						<div id="success" class="alert center alert-success fade in"
							ng-hide="error" ng-cloak>
							<strong>Success!</strong> Here's your PithyURL :
							{{"http://"+hostname+createdUrl.short}}
						</div>

						<div id="error" class="alert center alert-danger fade in"
							ng-show="error" ng-cloak>
							<strong>Error!</strong> <br /> {{textError}}
						</div>
					</div>

				</div>
			</div>

		</div>


		<div ng-controller="StatsCtrl" ng-hide="mainView" ng-cloak>
			<form class="form-horizontal" role="form" ng-submit="inspectUrl()">
				<div class="row">
					<div class="col-md-8 col-md-offset-2">
						<div class="input-group input-group-lg">
							<span class="input-group-addon">{{"http://"+hostname}}</span> <input
								type="text" ng-model="lsurlForStats.short" class="form-control"
								placeholder="Insert your short URL here."> <span
								class="input-group-btn">
								<button class="btn btn-default btn-lg" type="submit">
									<span class="glyphicon glyphicon-align-right"
										aria-hidden="true"></span> Inspect!
								</button>
							</span>
						</div>
					</div>
				</div>
			</form>
			<br>

			<div id="stats" ng-show="stats">

				<div class="row">
					<div class="col-md-12">
						<div class="mapaelContainer">
							<div class="container1">
								<div class="map">
									<span>Alternative content for the map</span>
								</div>
								<div class="areaLegend" ng-hide="true">
									<span>Alternative content for the legend</span>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-md-8 col-md-offset-2">
						<table class="table table-striped">
							<tr>
								<th data-field="shortURL">Short URL:</th>
								<td>{{lsurl.shortUrl}}</td>
							</tr>
							<tr>
								<th data-field="longURL">Long URL:</th>
								<td>{{lsurl.longUrl}}</td>
							</tr>
							<tr>
								<th data-field="creationDate">Created on:</th>
								<td>{{lsurl.creationDate}}</td>
							</tr>
							<tr>
								<th data-field="totVisits">Total visits:</th>
								<td>{{lsurl.totVisits}}</td>
							</tr>
							<tr>
								<th data-field="uniqueVisits">Unique visits:</th>
								<td>{{lsurl.uniqueVisits}}</td>
							</tr>
						</table>


						<div id="error" class="alert center alert-danger fade in"
							ng-show="errorS" ng-cloak>
							<strong>Error!</strong> <br /> {{textError}}
						</div>


					</div>
				</div>

			</div>

		</div>
	</div>


	<div ng-controller="CookiesCtrl" class="alert alert-info fade in center" id="footer" ng-hide="cookiePolicyAccepted" ng-cloak>		
		<a href="#" class="close" data-dismiss="alert" aria-label="close" ng-click="acceptCookiePolicy()">&times;</a>		
		<p><strong>Cookies on {{hostname}} : </strong> Find out about cookies and changing your settings.		
		If you continue without changing your settings you are consenting to use of cookies on our site.</p>		
	</div>
	



	<script src="./libs/js/jquery.min.js"></script>
	<script src="./libs/js/jquery.js"></script>
	<script src="./libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
	
	<script src="./libs/js/angular/angular.js"></script>
	<script src="./libs/js/angular/angular-route.js"></script>
	<script src="./libs/js/angular/angular-cookies.js"></script>
	<script src="./libs/js/angular/angular-sanitize.js"></script>
	<script src="./libs/js/angular/angular-resource.js"></script>
	<script src="./libs/js/angular/Chart.min.js"></script>
	
	<script src="./scripts/app.js"></script>
	<script src="./scripts/controllers/main.js"></script>
	<script src="./scripts/controllers/stats.js"></script>
	<script src="./scripts/controllers/cookies.js"></script>
	
	<script	src="./libs/Mapael-1.1.0/js/raphael-min.js"	charset="utf-8"></script>
	<script src="./libs/Mapael-1.1.0/js/jquery.mapael.js" charset="utf-8"></script>
	<script src="./libs/Mapael-1.1.0/js/maps/world_countries.js" charset="utf-8"></script>
</body>
</html>