<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title></title>
</head>
<body ng-controller="StatsCtrl">
<div class="container">
<form class="form-horizontal" role="form" ng-submit="inspectUrl()">
  <div class="row">
    <div class="input-group input-group-lg">
      <input type="text" ng-model="lsurlForStats.short" class="form-control" placeholder="Insert your short URL here.">
      <span class="input-group-btn">
        <button class="btn btn-default btn-lg" type="submit">
          <span class="glyphicon glyphicon-align-right" aria-hidden="true"></span> Inspect!
        </button>
      </span>
    </div>
  </div>
</form>
  <br>
  
  <div id="stats" ng-show="stats">
  	<table class="table table-striped">
  <tr>
    <th data-field="shortURL">Short URL:</th>
    <td>{{lsurl.shortUrl}}</td>
  </tr>
  <tr>
    <th data-field="longURL">Long URL:</th>
    <td>{{lsurl.longUrl}}</td>
  </tr>
  <tr>
    <th data-field="creationDate">Created on:</th>
    <td>{{lsurl.creationDate}}</td>
  </tr>
  <tr>
    <th data-field="totVisits">Total visits:</th>
    <td>{{lsurl.totVisits}}</td>
  </tr>
</table>

   <h5><strong>Visits per day:</strong></h5>
   <canvas id="visitsPerDay"></canvas>
   
   <h5><strong>Visits per country:</strong></h5>
   <canvas id="visitsPerCountry"></canvas>
   
    <script>
            var buyerData = {
                labels : ["January","February","March","April","May","June"],
                datasets : [
                {
                    fillColor : "rgba(172,194,132,0.4)",
                    strokeColor : "#ACC26D",
                    pointColor : "#fff",
                    pointStrokeColor : "#9DB86D",
                    data : [203,156,99,251,305,247]
                }
            ]
            }
            
            var barData = {
                    labels : ["January","February","March","April","May","June"],
                    datasets : [
                        {
                            fillColor : "#48A497",
                            strokeColor : "#48A4D1",
                            data : [456,479,324,569,702,600]
                        }                  
                    ]
                }
               
            // get bar chart canvas
            var income = document.getElementById('visitsPerCountry').getContext("2d");
            // draw bar chart
            new Chart(income).Bar(barData);
            
            // get line chart canvas
            var buyers = document.getElementById('visitsPerDay').getContext('2d');
            
            new Chart(buyers).Line(buyerData);
      </script>      
  </div>

</div>
</body>
</html>

